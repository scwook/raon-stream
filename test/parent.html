<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>데이터 보내는 페이지</title>
    <style>
        body { font-family: sans-serif; padding: 20px; }
        .box { border: 1px solid #ccc; padding: 15px; border-radius: 8px; width: 300px; }
        button { margin-top: 15px; cursor: pointer; padding: 8px 16px; }
    </style>
</head>
<body>
    <h2>관심사를 선택하세요</h2>
    <div class="box">
        <label><input type="checkbox" name="hobby" value="여행"> 여행</label><br>
        <label><input type="checkbox" name="hobby" value="독서"> 독서</label><br>
        <label><input type="checkbox" name="hobby" value="코딩"> 코딩</label><br>
        <label><input type="checkbox" name="hobby" value="운동"> 운동</label><br>
        <button onclick="sendData()">새 창으로 보내기</button>
    </div>

    <script>
        function sendData() {
            // 1. 체크된 요소들만 가져오기
            const checkboxes = document.querySelectorAll('input[name="hobby"]:checked');
            
            // 2. 값들을 추출하여 배열로 생성
            const selectedValues = Array.from(checkboxes).map(cb => cb.value);

            if (selectedValues.length === 0) {
                alert("항목을 하나 이상 선택해주세요!");
                return;
            }

            // 3. 쉼표로 연결된 문자열 생성 및 인코딩
            const dataString = encodeURIComponent(selectedValues.join(','));
            
            // 4. URL 파라미터를 포함해 새 창 열기
            window.open(`child.html?items=${dataString}`, 'popupWindow', 'width=400,height=300');
        }
    </script>
</body>
</html>